<html>

<head>
    <!-- Alreeady implemented in layout .css using ejs  -->
    <!-- <link rel="stylesheet" href="/css/user.css"> -->
</head>

<body>

    <h1>This is user Profile</h1>

    <!-- this wont work directly because we have to create a route for it first and app.use in index.js main  -->
    <img src="<%= user.avatar %>" alt="<%= user.name %>" width="100">
    <p><%= profile_user.name %></p>
    <p><%= profile_user.email %></p>

    <% if(user.id==profile_user.id){ %>
    <!-- if user matches then show the form to update -->
    <form action="/users/update/<%=profile_user.id%>" enctype="multipart/form-data" method="POST">
        <input type="text" name="name" placeholder="New Name" value="<%=profile_user.name%>" required>
        <input type="email" name="email" placeholder="New Email" value="<%=profile_user.email%>" required>
        <input type="file" name="avatar" placeholder="Profile Picture">
        <input type="submit" value="Update Credentials">
    </form>
    <%}else{%>
    <!-- else show only the profile info -->
    <%}%>
    </body>
</html>